import{browser as e}from"webextension-polyfill-ts";e.runtime.onMessageExternal.addListener(async(n,r)=>{let a=await e.management.getSelf();return n.initialLoadData?{id:e.runtime.id,manifest:e.runtime.getManifest(),management:a}:((n.changedFile==="manifest.json"||n.changedFile==="service_worker"||n.changedFile==="_locales")&&setTimeout(()=>(e.runtime.reload(),{reloaded:!0}),750),n.changedFile==="declarative_net_request"?(e.runtime.reload(),{reloaded:!0}):!0)});

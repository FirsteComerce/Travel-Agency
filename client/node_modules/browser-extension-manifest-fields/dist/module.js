"use strict";var jt=Object.create;var D=Object.defineProperty;var kt=Object.getOwnPropertyDescriptor;var wt=Object.getOwnPropertyNames;var Ht=Object.getPrototypeOf,Pt=Object.prototype.hasOwnProperty;var Rt=(e,t)=>{for(var o in t)D(e,o,{get:t[o],enumerable:!0})},Dt=(e,t,o,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of wt(t))!Pt.call(e,n)&&n!==o&&D(e,n,{get:()=>t[n],enumerable:!(r=kt(t,n))||r.enumerable});return e};var i=(e,t,o)=>(o=e!=null?jt(Ht(e)):{},Dt(t||!e||!e.__esModule?D(o,"default",{value:e,enumerable:!0}):o,e)),St=e=>Dt(D({},"__esModule",{value:!0}),e);var Tt={};Rt(Tt,{default:()=>It,getPagesPath:()=>At});module.exports=St(Tt);var P=i(require("path"));var H=i(require("fs")),u=i(require("path")),xt=i(require("parse5-utils"));var g=i(require("parse5-utils"));function x(e){try{return new URL(e),!0}catch{return!1}}function _(e,t){let{childNodes:o=[]}=e;for(let r of o)if(r.nodeName==="script"){let n=g.default.getAttribute(r,"src");if(!n||x(n))continue;t(n,r,"script")}else if(r.nodeName==="link"){let n=g.default.getAttribute(r,"href"),s=g.default.getAttribute(r,"rel");if(!n||x(n))continue;s==="dns-prefetch"||s==="icon"||s==="manifest"||s==="modulepreload"||s==="preconnect"||s==="prefetch"||s==="preload"||s==="prerender"?t(n,r,"staticHref"):t(n,r,"css")}else if(r.nodeName==="a"||r.nodeName==="area"){let n=g.default.getAttribute(r,"href");if(!n||x(n))continue}else if(r.nodeName==="audio"||r.nodeName==="embed"||r.nodeName==="iframe"||r.nodeName==="img"||r.nodeName==="input"||r.nodeName==="source"||r.nodeName==="track"||r.nodeName==="video"){let n=g.default.getAttribute(r,"src");if(!n||x(n))continue;t(n,r,"staticSrc")}else _(r,t)}function a(e){if(!H.default.existsSync(e))return{css:[],js:[],static:[],html:e};let t=H.default.readFileSync(e,{encoding:"utf8"}),o=xt.default.parse(t),r={css:[],js:[],static:[]},n={css:[],js:[],static:[]};for(let s of o.childNodes)if(s.nodeName==="html"){for(let c of s.childNodes)c.nodeName==="head"&&_(c,(d,w,p)=>{let f=u.default.join(u.default.dirname(e),d.startsWith("/")?u.default.relative(u.default.dirname(e),d):d);switch(p){case"script":r.js.push(f);break;case"css":r.css.push(f);break;case"staticSrc":case"staticHref":r.static.push(f);break;default:break}}),c.nodeName==="body"&&_(c,(d,w,p)=>{let f=u.default.join(u.default.dirname(e),d.startsWith("/")?u.default.relative(u.default.dirname(e),d):d);switch(p){case"script":n.js.push(f);break;case"css":n.css.push(f);break;case"staticSrc":case"staticHref":n.static.push(f);break;default:break}});return{css:[...r.css,...n.css],js:[...r.js,...n.js],static:[...r.static,...n.static],html:e}}}function R(e,t){if(!t||!t.action||!t.action.default_popup)return;let o=t.action.default_popup,r=P.default.join(P.default.dirname(e),o);return a(r)}var S=i(require("path"));function N(e,t){if(!t||!t.background||!t.background.page)return;let o=t.background.page,r=S.default.join(S.default.dirname(e),o);return a(r)}var I=i(require("path"));function T(e,t){if(!t||!t.browser_action||!t.browser_action.default_popup)return;let o=t.browser_action.default_popup,r=I.default.join(I.default.dirname(e),o);return a(r)}var q=i(require("path"));function W(e,t){if(!t||!t.chrome_settings_overrides||!t.chrome_settings_overrides.homepage||t.chrome_settings_overrides.homepage.startsWith("http"))return;let o=t.chrome_settings_overrides.homepage,r=q.default.join(q.default.dirname(e),o);return a(r)}var l=i(require("path"));function F(e,t){let o={newtab:void 0};if(!t||!t.chrome_url_overrides)return{"chrome_url_overrides/newtab":void 0};if(t.chrome_url_overrides.history){let r=t.chrome_url_overrides.history,n=l.default.join(l.default.dirname(e),r);o={"chrome_url_overrides/history":a(n)}}if(t.chrome_url_overrides.newtab){let r=t.chrome_url_overrides.newtab,n=l.default.join(l.default.dirname(e),r);o={"chrome_url_overrides/newtab":a(n)}}if(t.chrome_url_overrides.bookmarks){let r=t.chrome_url_overrides.bookmarks,n=l.default.join(l.default.dirname(e),r);o={"chrome_url_overrides/bookmarks":a(n)}}return o}var U=i(require("path"));function O(e,t){if(!t||!t.devtools_page)return;let o=t.devtools_page,r=U.default.join(U.default.dirname(e),o);return a(r)}var b=i(require("path"));function B(e,t){if(t.options_page){let n=t.options_page,s=b.default.join(b.default.dirname(e),n);return a(s)}if(!t||!t.options_ui||!t.options_ui.page)return;let o=t.options_ui.page,r=b.default.join(b.default.dirname(e),o);return a(r)}var E=i(require("path"));function $(e,t){if(!t||!t.page_action||!t.page_action.default_popup)return;let o=t.page_action.default_popup,r=E.default.join(E.default.dirname(e),o);return a(r)}var z=i(require("path"));function C(e,t){if(!t||!t.sandbox||!t.sandbox.pages)return{"sandbox/page-0":void 0};let o=t.sandbox.pages,r={};for(let[n,s]of o.entries()){let c=z.default.join(z.default.dirname(e),s);r[`sandbox/page-${n}`]=a(c)}return r}var J=i(require("path"));function L(e,t){if(!t||!t.side_panel||!t.side_panel.default_path)return;let o=t.side_panel.default_path,r=J.default.join(J.default.dirname(e),o);return a(r)}var G=i(require("path"));function K(e,t){if(!t||!t.sidebar_action||!t.sidebar_action.default_panel)return;let o=t.sidebar_action.default_panel,r=G.default.join(G.default.dirname(e),o);return a(r)}function Q(e,t){return{"action/default_popup":R(e,t),"background/page":N(e,t),"browser_action/default_popup":T(e,t),"chrome_settings_overrides/homepage":W(e,t),...F(e,t),devtools_page:O(e,t),"options_ui/page":B(e,t),"page_action/default_popup":$(e,t),...C(e,t),"side_panel/default_path":L(e,t),"sidebar_action/default_panel":K(e,t)}}var h=i(require("path"));function V(e,t){if(!t||!t.action||!t.action.default_icon)return;if(typeof t.action.default_icon=="string")return h.default.join(h.default.dirname(e),t.action.default_icon);let o=[];for(let r in t.action.default_icon){let n=h.default.join(h.default.dirname(e),t.action.default_icon[r]);o.push(n)}return o}var M=i(require("path"));function X(e,t){if(!t||!t.browser_action||!t.browser_action.default_icon)return;let o=[];if(typeof t.browser_action.default_icon=="string")return M.default.resolve(M.default.dirname(e),t.browser_action.default_icon);for(let r in t.browser_action.default_icon){let n=t.browser_action.default_icon[r]=M.default.resolve(M.default.dirname(e),t.browser_action.default_icon[r]);o.push(n)}return o}var v=i(require("path"));function Y(e,t){if(!t||!t.browser_action||!t.browser_action.theme_icons)return;let o=v.default.dirname(e);for(let r of t.browser_action.theme_icons){if(r.light){let n=v.default.resolve(o,r.light);r.light=n}if(r.dark){let n=v.default.resolve(o,r.dark);r.dark=n}r.size&&delete r.size}return t.browser_action.theme_icons}var Z=i(require("path"));function tt(e,t){if(!t||!t.icons)return;let o=[];for(let r in t.icons){let n=Z.default.join(Z.default.dirname(e),t.icons[r]);o.push(n)}return o}var y=i(require("path"));function et(e,t){if(!t||!t.page_action||!t.page_action.default_icon)return;if(typeof t.page_action.default_icon=="string")return y.default.join(y.default.dirname(e),t.page_action.default_icon);let o=[];for(let r in t.page_action.default_icon){let n=y.default.join(y.default.dirname(e),t.page_action.default_icon[r]);o.push(n)}return o}var rt=i(require("path"));function ot(e,t){return!t||!t.sidebar_action||!t.sidebar_action.default_icon?void 0:rt.default.join(rt.default.dirname(e),t.sidebar_action.default_icon)}function nt(e,t){return{action:V(e,t),browser_action:X(e,t),"browser_action/theme_icons":Y(e,t),icons:tt(e,t),page_action:et(e,t),sidebar_action:ot(e,t)}}var it=i(require("path"));function st(e,t){let o={};return!t||!t.declarative_net_request||!t.declarative_net_request.rule_resources?{"declarative_net_request/rule_resources-0":void 0}:(t.declarative_net_request.rule_resources.forEach(n=>{let s=it.default.join(it.default.dirname(e),n.path);o[`declarative_net_request/${n.id}`]=s}),o)}var at=i(require("path"));function ct(e,t){if(!t||!t.storage||!t.storage.managed_schema)return;let o=t.storage.managed_schema;return at.default.join(at.default.dirname(e),o)}function dt(e,t){return{...st(e,t),"storage/managed_schema":ct(e,t)}}var m=i(require("path")),j=i(require("fs"));function ut(e,t){let o=m.default.join(m.default.dirname(e),"_locales"),r=[];if(j.default.existsSync(o))for(let n of j.default.readdirSync(o)){let s=m.default.join(o,n);for(let c of j.default.readdirSync(s))r.push(m.default.join(m.default.dirname(e),"_locales",n,c))}return r}var pt=i(require("path"));function ft(e,t){if(!t||!t.background)return;let o=t.background.scripts;if(o)return o.map(r=>pt.default.join(pt.default.dirname(e),r))}var lt=i(require("path"));function gt(e,t){if(!t||!t.background)return;let o=t.background.service_worker;if(o)return lt.default.join(lt.default.dirname(e),o)}var A=i(require("path"));function mt(e,t){if(!t||!t.content_scripts)return{"content_scripts/content-0":void 0};let o=s=>{if(s.js?.length!==0)return s.js?.map(c=>A.default.join(A.default.dirname(e),c))},r=s=>{if(s.css?.length!==0)return s.css?.map(c=>A.default.join(A.default.dirname(e),c))},n={};for(let[s,c]of t.content_scripts.entries()){let d=o(c),w=r(c);n[`content_scripts/content-${s}`]=[...(d||[]).filter(p=>p!=null),...(w||[]).filter(p=>p!=null)]}return n}var _t=i(require("path"));function bt(e,t){if(!t||!t.user_scripts||!t.user_scripts.api_script)return;let o=t.user_scripts.api_script;return _t.default.join(_t.default.dirname(e),o)}function ht(e,t){return{"background/scripts":ft(e,t),"background/service_worker":gt(e,t),...mt(e,t),"user_scripts/api_script":bt(e,t)}}function Mt(e,t){if(!(!t||!t.web_accessible_resources||!t.web_accessible_resources.length))return t.web_accessible_resources}var k=i(require("fs")),yt=i(require("path"));function vt(e,t={}){return k.default.existsSync(e)?(k.default.readdirSync(e).forEach(r=>{let n=yt.default.join(e,r);if(k.default.statSync(n).isDirectory())vt(n,t);else if(r.endsWith(".html")){let c=yt.default.basename(r,".html");t[`pages/${c}`]={...a(n),html:n}}}),t):void 0}function At(e){return e?vt(e):{}}function Nt(e,t){let o=t||require(e);return{html:Q(e,o),icons:nt(e,o),json:dt(e,o),locales:ut(e,o),scripts:ht(e,o),web_accessible_resources:Mt(e,o)}}var It=Nt;0&&(module.exports={getPagesPath});
